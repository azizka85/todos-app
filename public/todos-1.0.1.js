!function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(s){if("default"!==s&&!(s in e)){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}}))})),Object.freeze(e)}var t={};t.TodosBase=class{elem;constructor(e,t,s){this.elem=e||this.createElement(t,s)}createElement(e,t){const s=document.createElement(e||"div");return t&&s.classList.add(t),s}};var s={},a={};const{TodosBase:i}=t;class o{onDisplayChanged;onCreateTodo;static className="todos-header";static dataName="data-todos-header";static iconHideClassName=o.className+"-icon-hide";static inputDataName=o.dataName+"-input";static downIconDataName=o.dataName+"-down";static rightIconDataName=o.dataName+"-right"}class n extends i{downIcon=null;rightIcon=null;input=null;downIconClickHandler;rightIconClickHandler;inputKeyUpHandler;constructor(e,t){super(e,"div",o.className),e?(this.downIcon=e.querySelector(`[${o.downIconDataName}]`),this.rightIcon=e.querySelector(`[${o.rightIconDataName}]`),this.input=e.querySelector(`[${o.inputDataName}]`)):(this.createIcons(),this.createInput()),this.downIcon&&(this.downIconClickHandler=()=>{this.changeDisplay(!1),t?.onDisplayChanged?.(!1)},this.downIcon.addEventListener("click",this.downIconClickHandler)),this.rightIcon&&(this.rightIconClickHandler=()=>{this.changeDisplay(!0),t?.onDisplayChanged?.(!0)},this.rightIcon.addEventListener("click",this.rightIconClickHandler)),this.input&&(this.inputKeyUpHandler=e=>{const s=e.target.value?.trim?.();"Enter"===e.key&&s&&(t?.onCreateTodo?.(s),e.target.value="")},this.input.addEventListener("keyup",this.inputKeyUpHandler)),this.changeDisplay(!0)}get downIconElem(){return this.downIcon}get rightIconElem(){return this.rightIcon}get inputElem(){return this.input}createIcons(){const e=document.createElement("span");e.innerHTML=`\n      <svg viewBox="0 0 16 16" ${o.downIconDataName}>\n        <path\n          fillRule="evenodd"\n          d="\n            M1.646 4.646a.5.5 0 0 1 .708 0L8 \n            10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 \n            6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\n          "\n        />\n      </svg>\n      <svg viewBox="0 0 16 16" ${o.rightIconDataName}>\n        <path\n          fillRule="evenodd"\n          d="\n            M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 \n            .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 \n            2.354a.5.5 0 0 1 0-.708z\n          "\n        />\n      </svg>\n    `,this.downIcon=e.querySelector(`[${o.downIconDataName}]`),this.rightIcon=e.querySelector(`[${o.rightIconDataName}]`),this.elem.appendChild(e)}createInput(){this.input=document.createElement("input"),this.input.placeholder="Enter new task",this.elem.appendChild(this.input)}changeDisplay(e){this.rightIcon&&(e?this.rightIcon.classList.add(o.iconHideClassName):this.rightIcon.classList.remove(o.iconHideClassName)),this.downIcon&&(e?this.downIcon.classList.remove(o.iconHideClassName):this.downIcon.classList.add(o.iconHideClassName))}destroy(){this.downIcon?.removeEventListener("click",this.downIconClickHandler),this.rightIcon?.removeEventListener("click",this.rightIconClickHandler),this.input?.removeEventListener("keyup",this.inputKeyUpHandler)}static init(e,t){const s=e.querySelector(`[${o.dataName}]`);return s?new n(s,t):null}}a.TodosHeaderProps=o,a.TodosHeader=n;var l={};const{TodosBase:d}=t,c={All:"all",Active:"active",Completed:"completed"};class r{onChangeDisplayMode;onClearCompleted;static defaultDisplayListMode=c.All;static className="todos-footer";static dataName="data-todos-footer";static infoClassName=r.className+"-info";static infoDataName=r.dataName+"-info";static buttonsClassName=r.className+"-buttons";static buttonClassName=r.className+"-button";static buttonActiveClassName=r.buttonClassName+"-active";static displayAllBtnDataName=r.dataName+"-display-all";static displayActiveBtnDataName=r.dataName+"-display-active";static displayCompletedBtnDataName=r.dataName+"-display-completed";static clearCompletedBtnDataName=r.dataName+"-clear-completed"}class h extends d{info=null;displayAllBtn=null;displayActiveBtn=null;displayCompletedBtn=null;clearCompletedBtn=null;displayAllBtnClickHandler;displayActiveBtnClickHandler;displayCompletedBtnClickHandler;clearCompletedBtnClickHandler;constructor(e,t){super(e,"div",r.className),e?(this.info=e.querySelector(`[${r.infoDataName}]`),this.displayAllBtn=e.querySelector(`[${r.displayAllBtnDataName}]`),this.displayActiveBtn=e.querySelector(`[${r.displayActiveBtnDataName}]`),this.displayCompletedBtn=e.querySelector(`[${r.displayCompletedBtnDataName}]`),this.clearCompletedBtn=e.querySelector(`[${r.clearCompletedBtnDataName}]`)):(this.createInfo(),this.createButtons(),this.createClearCompletedBtn()),this.displayAllBtn&&(this.displayAllBtnClickHandler=()=>{this.changeDisplayMode(c.All),t?.onChangeDisplayMode?.(c.All)},this.displayAllBtn.addEventListener("click",this.displayAllBtnClickHandler)),this.displayActiveBtn&&(this.displayActiveBtnClickHandler=()=>{this.changeDisplayMode(c.Active),t?.onChangeDisplayMode?.(c.Active)},this.displayActiveBtn.addEventListener("click",this.displayActiveBtnClickHandler)),this.displayCompletedBtn&&(this.displayCompletedBtnClickHandler=()=>{this.changeDisplayMode(c.Completed),t?.onChangeDisplayMode?.(c.Completed)},this.displayCompletedBtn.addEventListener("click",this.displayCompletedBtnClickHandler)),this.clearCompletedBtn&&(this.clearCompletedBtnClickHandler=()=>t?.onClearCompleted?.(),this.clearCompletedBtn.addEventListener("click",this.clearCompletedBtnClickHandler)),this.changeDisplayMode(r.defaultDisplayListMode)}get infoElem(){return this.info}get displayAllBtnElem(){return this.displayAllBtn}get displayActiveBtnElem(){return this.displayActiveBtn}get displayCompletedBtnElem(){return this.displayCompletedBtn}get clearCompletedBtnElem(){return this.clearCompletedBtn}createInfo(){const e=document.createElement("div");e.classList.add(r.infoClassName),e.innerHTML="<span></span> items left",this.info=e.querySelector("span"),this.elem.appendChild(e)}createButtons(){const e=document.createElement("div");e.classList.add(r.buttonsClassName),this.displayAllBtn=document.createElement("div"),this.displayAllBtn.classList.add(r.buttonClassName),this.displayAllBtn.textContent="All",this.displayActiveBtn=document.createElement("div"),this.displayActiveBtn.classList.add(r.buttonClassName),this.displayActiveBtn.textContent="Active",this.displayCompletedBtn=document.createElement("div"),this.displayCompletedBtn.classList.add(r.buttonClassName),this.displayCompletedBtn.textContent="Completed",e.appendChild(this.displayAllBtn),e.appendChild(this.displayActiveBtn),e.appendChild(this.displayCompletedBtn),this.elem.appendChild(e)}createClearCompletedBtn(){this.clearCompletedBtn=document.createElement("div"),this.clearCompletedBtn.classList.add(r.buttonClassName),this.clearCompletedBtn.classList.add(r.buttonActiveClassName),this.clearCompletedBtn.textContent="Clear completed",this.elem.appendChild(this.clearCompletedBtn)}changeDisplayMode(e){e===c.All?this.displayAllBtn?.classList.add(r.buttonActiveClassName):this.displayAllBtn?.classList.remove(r.buttonActiveClassName),e===c.Active?this.displayActiveBtn?.classList.add(r.buttonActiveClassName):this.displayActiveBtn?.classList.remove(r.buttonActiveClassName),e===c.Completed?this.displayCompletedBtn?.classList.add(r.buttonActiveClassName):this.displayCompletedBtn?.classList.remove(r.buttonActiveClassName)}destroy(){this.displayAllBtn?.removeEventListener("click",this.displayAllBtnClickHandler),this.displayActiveBtn?.removeEventListener("click",this.displayActiveBtnClickHandler),this.displayCompletedBtn?.removeEventListener("click",this.displayCompletedBtnClickHandler),this.clearCompletedBtn?.removeEventListener("click",this.clearCompletedBtnClickHandler)}static init(e,t){const s=e.querySelector(`[${r.dataName}]`);return s?new h(s,t):null}}l.TodosListDisplayMode=c,l.TodosFooterProps=r,l.TodosFooter=h;var m={},p={};const{TodosBase:C}=t;class u{completed;title;onTodoStatusChange;static className="todo-item";static dataName="data-todo-item";static checkedClassName=u.className+"-checked";static hideClassName=u.className+"-hide";static checkboxDataName=u.dataName+"-checkbox";static contentDataName=u.dataName+"-content";static templateDataName=u.dataName+"-template"}class y extends C{content=null;checkbox=null;onTodoStatusChangeHandler;constructor(e,t){super(e,"li",u.className),e?(this.checkbox=e.querySelector(`[${u.checkboxDataName}]`),this.content=e.querySelector(`[${u.contentDataName}]`)):(this.createCheckbox(),this.createContent()),this.checkbox&&(this.onTodoStatusChangeHandler=()=>{this.checkbox?.checked?this.elem.classList.add(u.checkedClassName):this.elem.classList.remove(u.checkedClassName),t?.onTodoStatusChange?.(this)},this.checkbox.checked=t?.completed??this.checkbox.checked??!1,this.checkbox.addEventListener("change",this.onTodoStatusChangeHandler),t?.completed&&this.elem.classList.add(u.checkedClassName)),this.content&&t?.title&&(this.content.textContent=t?.title)}get contentElem(){return this.content}get checkboxElem(){return this.checkbox}createContent(){const e=document.createElement("span");this.content=e,this.elem.appendChild(e)}createCheckbox(){const e=document.createElement("label"),t=document.createElement("input"),s=document.createElement("span");t.type="checkbox",s.innerHTML='\n      <svg viewBox="0 0 16 16">\n        <path \n          d="M13.485 1.431a1.473 1.473 0 0 1 2.104 2.062l-7.84 9.801a1.473 1.473 0 0 1-2.12.04L.431 8.138a1.473 1.473 0 0 1 2.084-2.083l4.111 4.112 6.82-8.69a.486.486 0 0 1 .04-.045z"\n        />\n      </svg>\n    ',e.appendChild(t),e.appendChild(s),this.elem.appendChild(e),this.checkbox=t}destroy(){this.checkbox?.removeEventListener("change",this.onTodoStatusChangeHandler)}static init(e,t){const s=e.querySelectorAll(`[${u.dataName}]`),a=[];for(let e of s){const s=new y(e,t);a.push(s)}return a}}p.TodoItemProps=u,p.TodoItem=y;const{TodosBase:g}=t,{TodosListDisplayMode:N,TodosFooterProps:v}=l,{TodoItem:B,TodoItemProps:T}=p;class D{onTodoStatusChange;static className="todos-list";static dataName="data-todos-list";static hideClassName=D.className+"-hide"}class k extends g{itemTemplate=null;mode;items=[];props;constructor(e,t){super(e,"ul",D.className),this.props=t,e&&(this.items=B.init(e,{onTodoStatusChange:e=>{this.updateItemDisplayMode(e),t?.onTodoStatusChange?.(e)}}),this.itemTemplate=document.querySelector(`[${T.templateDataName}]`)?.content?.querySelector(`[${T.dataName}]`)),this.changeDisplayMode(v.defaultDisplayListMode)}get displayMode(){return this.mode}get itemsList(){return this.items}addItem(e,t){const s=this.itemTemplate?.cloneNode?.(!0),a=new B(s,{title:e,completed:t,onTodoStatusChange:e=>{this.updateItemDisplayMode(e),this.props?.onTodoStatusChange?.(e)}});return this.elem.appendChild(a.elem),this.updateItemDisplayMode(a),this.items.push(a),a}changeDisplayMode(e){this.mode=e;for(let e of this.items)this.updateItemDisplayMode(e)}changeListDisplay(e){e?this.elem.classList.remove(D.hideClassName):this.elem.classList.add(D.hideClassName)}clearCompleted(){const e=[];for(let t=0;t<this.items.length;t++){const s=this.items[t];s.checkbox?.checked?this.elem.removeChild(s.elem):e.push(s)}this.items=e}updateItemDisplayMode(e){this.mode===N.All||this.mode===N.Completed&&e.checkbox?.checked||this.mode===N.Active&&!e.checkbox?.checked?e.elem.classList.remove(T.hideClassName):e.elem.classList.add(T.hideClassName)}destroy(){for(let e of this.items)e.destroy()}static init(e,t){const s=e.querySelector(`[${D.dataName}]`);return s?new k(s,t):null}}m.TodosList=k,m.TodosListProps=D;const{TodosBase:L}=t,{TodosHeader:H}=a,{TodosFooter:f}=l,{TodosList:A}=m;class I{onCreateTodo;onDisplayChanged;onChangeDisplayMode;onClearCompleted;onTodoStatusChange;static className="todos";static dataName="data-todos";static containerClassName=I.className+"-container";static titleClassName=I.className+"-title";static titleDataName=I.dataName+"-title"}class E extends L{title=null;header=null;list=null;footer=null;onCreateTodoHandler;onDisplayChangedHandler;onChangeDisplayModeHandler;onClearCompletedHandler;onTodoStatusChangeHandler;constructor(e,t){super(e,"div",I.className),this.onCreateTodoHandler=e=>{this.onCreateTodo(e),t?.onCreateTodo?.(e)},this.onDisplayChangedHandler=e=>{this.onDisplayChanged(e),t?.onDisplayChanged?.(e)},this.onChangeDisplayModeHandler=e=>{this.onChangeDisplayMode(e),t?.onChangeDisplayMode?.(e)},this.onClearCompletedHandler=()=>{this.onClearCompleted(),t?.onClearCompleted?.()},this.onTodoStatusChangeHandler=e=>{t?.onTodoStatusChange?.(e)},e?(this.title=e.querySelector(`[${I.titleDataName}]`),this.header=H.init(e,{onCreateTodo:this.onCreateTodoHandler,onDisplayChanged:this.onDisplayChangedHandler}),this.list=A.init(e,{onTodoStatusChange:this.onTodoStatusChangeHandler}),this.footer=f.init(e,{onChangeDisplayMode:this.onChangeDisplayModeHandler,onClearCompleted:this.onClearCompletedHandler})):(this.createTitle(),this.createContainer()),this.footer?.info&&(this.footer.info.textContent=this.list?.itemsList?.length)}get titleElem(){return this.title}get headerComponent(){return this.header}get listComponent(){return this.list}get footerComponent(){return this.footer}createTitle(){this.title=document.createElement("div"),this.title.classList.add(I.titleClassName),this.title.textContent="todos",this.elem.appendChild(this.title)}createContainer(){const e=document.createElement("div");e.classList.add(I.containerClassName),this.createHeader(e),this.createList(e),this.createFooter(e),this.elem.appendChild(e)}createHeader(e){this.header=new H(null,{onCreateTodo:this.onCreateTodoHandler,onDisplayChanged:this.onDisplayChangedHandler}),e.appendChild(this.header.elem)}createList(e){this.list=new A(null,{onTodoStatusChange:this.onTodoStatusChangeHandler}),e.appendChild(this.list.elem)}createFooter(e){this.footer=new f(null,{onChangeDisplayMode:this.onChangeDisplayModeHandler,onClearCompleted:this.onClearCompletedHandler}),e.appendChild(this.footer.elem)}onCreateTodo(e){this.list?.addItem?.(e,!1),this.footer?.info&&(this.footer.info.textContent=this.list?.itemsList?.length)}onDisplayChanged(e){this.list?.changeListDisplay?.(e)}onChangeDisplayMode(e){this.list?.changeDisplayMode?.(e)}onClearCompleted(){this.list?.clearCompleted?.(),this.footer?.info&&(this.footer.info.textContent=this.list?.itemsList?.length)}destroy(){this.header?.destroy?.(),this.list?.destroy?.(),this.footer?.destroy?.()}static init(e){const t=document.querySelectorAll(`[${I.dataName}]`),s=[];for(let a of t){const t=new E(a,e);s.push(t)}return s}}s.TodosProps=I,s.Todos=E;const{TodosBase:b}=t,{TodosProps:M,Todos:S}=s,{TodoItemProps:w,TodoItem:x}=p,{TodosListDisplayMode:$,TodosFooterProps:q,TodosFooter:P}=l,{TodosHeaderProps:F,TodosHeader:O}=a,{TodosListProps:j,TodosList:z}=m;var K={TodosBase:b,TodosProps:M,Todos:S,TodoItemProps:w,TodoItem:x,TodosListDisplayMode:$,TodosFooterProps:q,TodosFooter:P,TodosHeaderProps:F,TodosHeader:O,TodosListProps:j,TodosList:z},U=Object.freeze(e({__proto__:null,default:K},[K]));window&&(window.TodosModule=U)}();
//# sourceMappingURL=todos-1.0.1.js.map
